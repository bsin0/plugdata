#N canvas 272 192 1840 1026 12;
#X obj 1 1 note 188 20 Arial empty 1 0 0 0 0 228 228 228 1 0 Violin;
#X obj 114 529 >;
#X obj 17 39 vsl 15 128 0 100 0 0 empty empty Sensitivity -10 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 114 573 sel 1;
#X obj 114 552 change;
#X obj 50 687 line~;
#X obj 8 714 *~;
#X obj 114 598 t b b;
#X obj 114 507 env~ 256 128;
#X obj 8 329 delwrite~ violin 10;
#X obj 8 353 delread~ violin 10;
#X msg 179 646 0 5;
#X obj 84 627 del 6;
#X obj 62 39 vsl 15 128 0 600 0 0 empty empty Attack -5 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 84 647 pack 1 200;
#X text -178 125 (adjust to your fingers;
#X text -176 139 or to your instrument);
#X text 210 517 <-- Measures the amplitude of;
#X text 233 531 the input \, and send a bang;
#X text 232 546 if it is greater than the;
#X text 216 650 <-- Turn the volume all the way down;
#X text 232 560 sensitivity threshold;
#X text 230 575 (attack detected).;
#X text 215 665 when an attack is detected \, and than ramp;
#X text 215 680 slowly up again.;
#X text 133 331 <-- Buffer the input;
#X text 133 347 to give [env~] enough time;
#X text 134 364 to detect the attack.;
#X obj -221 365 inlet~;
#X obj 150 21 tgl 36 0 \$0-switch \$0-switchr On/Off -5 -10 0 15 #e4e4e4 #4d4d4d #373737 0 1;
#X obj -264 366 + 1;
#X obj -264 401 gate~ 2 1;
#X obj -264 472 outlet~;
#X msg 96 176 set \$1;
#X msg -52 176 set \$1;
#N canvas 0 50 450 300 presets 0;
#X obj 1 11 hradio 11 1 0 1 empty \$0-presetlabelr bypass -5 -5 0 10 #e4e4e4 #4d4d4d #373737 0;
#X obj 319 57 savestate;
#X msg 365 92 export;
#X obj 16 11 hradio 21 1 0 3 empty \$0-radio Load\ preset 0 4 0 10 #aaaaaa #000000 #000000 0;
#N canvas 356 221 694 431 shift 0;
#X msg 137 214 save;
#X msg 218 214 load;
#X obj 106 264 else/insert;
#X obj 218 293 s \$0-radio;
#X obj 175 95 keyname;
#X obj 214 117 select Shift_L;
#X msg 214 139 1;
#X msg 295 138 0;
#X obj 199 166 &&;
#X obj 199 188 sel 1 0;
#X obj 106 35 inlet;
#X obj 106 344 outlet;
#X msg 218 242 color #aaaaaa #000000 #000000 \, label Load\ preset;
#X msg 227 270 color #ff5050 #000000 #000000 \, label Save\ preset;
#X connect 0 0 2 1;
#X connect 0 0 13 0;
#X connect 1 0 2 1;
#X connect 1 0 12 0;
#X connect 2 0 11 0;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 5 1 7 0;
#X connect 6 0 8 1;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 9 0 0 0;
#X connect 9 1 1 0;
#X connect 10 0 2 0;
#X connect 12 0 3 0;
#X connect 13 0 3 0;
#X restore 319 26 pd shift;
#X obj 61 213 f \$0;
#X obj 366 233 r \$0-A;
#X obj 442 233 r \$0-B;
#X obj 512 233 r \$0-C;
#X obj 366 298 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X obj 442 298 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X obj 512 298 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X obj -1 89 t f b;
#X obj 106 295 pick;
#X obj 119 207 + 1;
#X obj 106 234 del 10 1 msec;
#X text 336 197 preset variables;
#X text 85 -41 adapted from advanced examples from ELSE presets;
#X text 106 184 preset effect names;
#X obj 1 -29 inlet;
#X text 491 17 read last saved file;
#X msg 435 92 write;
#X text 435 69 write to text file;
#X msg 419 44 read eff-violin-preset.txt;
#X msg 59 431 set \$1 \$2 \$3 \$4 \$5;
#X msg 59 614 \; \$1-presetlabelr label \$2 \; \$1-switchr \$3 \; \$1-sensitivityr \$4 \; \$1-attackr \$5 \;;
#X obj 59 404 pack2 f s f f f;
#X obj 342 267 r \$0-switch;
#X obj 431 267 r \$0-sensitivity;
#X obj 535 265 r \$0-attack;
#X msg 106 265 bypass default heavy;
#X obj 365 122 presets \\\$0-A \\\$0-B \\\$0-C;
#A saved \\\$0-A 0 || \\\$0-B 43 || \\\$0-C 300 || \; \\\$0-A 1 || \\\$0-B 43 || \\\$0-C 300 || \; \\\$0-A 1 || \\\$0-B 75 || \\\$0-C 300 || \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \;;
#X obj 419 18 loadbang;
#X listbox 61 499 21 0 0 0 - - - 0;
#X obj -53 491 del 100 1 msec;
#X text -224 507 push when preset selected;
#X text -194 482 store running values;
#X obj 61 536 store;
#A saved;
#X obj -53 536 del 100 1 msec;
#X msg 0 515 clear;
#X obj -53 469 del 100 1 msec;
#X connect 1 0 31 0;
#X connect 1 1 2 0;
#X connect 2 0 31 0;
#X connect 3 0 4 0;
#X connect 3 0 12 0;
#X connect 4 0 31 0;
#X connect 5 0 26 0;
#X connect 6 0 9 0;
#X connect 7 0 10 0;
#X connect 8 0 11 0;
#X connect 9 0 26 2;
#X connect 10 0 26 3;
#X connect 11 0 26 4;
#X connect 12 0 14 0;
#X connect 12 1 15 0;
#X connect 12 1 5 0;
#X connect 12 1 9 0;
#X connect 12 1 10 0;
#X connect 12 1 11 0;
#X connect 12 1 40 0;
#X connect 13 0 26 1;
#X connect 14 0 13 1;
#X connect 15 0 30 0;
#X connect 19 0 3 0;
#X connect 21 0 31 0;
#X connect 23 0 31 0;
#X connect 24 0 33 0;
#X connect 26 0 24 0;
#X connect 27 0 9 0;
#X connect 28 0 10 0;
#X connect 29 0 11 0;
#X connect 30 0 13 0;
#X connect 31 0 1 0;
#X connect 32 0 23 0;
#X connect 33 0 37 1;
#X connect 34 0 33 0;
#X connect 34 0 38 0;
#X connect 37 0 25 0;
#X connect 38 0 37 0;
#X connect 39 0 37 0;
#X connect 40 0 39 0;
#X connect 40 0 34 0;
#X coords 0 0 1 1 87 33 2 0 0;
#X restore 99 138 pd presets;
#X obj 1 170 nbx 3 12 0 100 0 0 \$0-sensitivity \$0-sensitivityr empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X obj 56 170 nbx 3 12 0 600 0 0 \$0-attack \$0-attackr empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X text 279 760 GuitarExtended \, Pierre Massat \, 2012 \; https://guitarextended.wordpress.com/2012/04/10/reversed-tape-violin-effect-for-guitar-with-pure-data/;
#X obj 114 -107 inlet;
#X obj 114 -78 route preset;
#X connect 1 0 4 0;
#X connect 2 0 36 0;
#X connect 3 0 7 0;
#X connect 4 0 3 0;
#X connect 5 0 6 1;
#X connect 6 0 32 0;
#X connect 7 0 12 0;
#X connect 7 1 11 0;
#X connect 8 0 1 0;
#X connect 10 0 6 0;
#X connect 11 0 5 0;
#X connect 12 0 14 0;
#X connect 13 0 37 0;
#X connect 14 0 5 0;
#X connect 28 0 31 1;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 31 1 9 0;
#X connect 31 1 8 0;
#X connect 33 0 13 0;
#X connect 34 0 2 0;
#X connect 36 0 34 0;
#X connect 36 0 1 1;
#X connect 37 0 33 0;
#X connect 37 0 14 1;
#X connect 39 0 40 0;
#X connect 40 0 35 0;
#X coords 0 0 1 1 197 197 1 0 -1;
