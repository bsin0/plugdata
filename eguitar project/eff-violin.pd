#N canvas 0 50 450 300 12;
#X obj -1 1 note 338 20 Arial empty 1 0 0 0 0 228 228 228 1 0 Violin;
#X obj 114 529 >;
#X obj 47 39 vsl 15 128 0 100 0 0 empty empty Sensitivity -10 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 114 573 sel 1;
#X obj 114 552 change;
#X obj 50 687 line~;
#X obj 8 714 *~;
#X obj 114 598 t b b;
#X obj 114 507 env~ 256 128;
#X obj 8 329 delwrite~ violin 10;
#X obj 8 353 delread~ violin 10;
#X msg 179 646 0 5;
#X obj 84 627 del 6;
#X obj 92 39 vsl 15 128 0 600 0 0 empty empty Attack -5 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 84 647 pack 1 200;
#X text -148 125 (adjust to your fingers;
#X text -146 139 or to your instrument);
#X text 210 517 <-- Measures the amplitude of;
#X text 233 531 the input \, and send a bang;
#X text 232 546 if it is greater than the;
#X text 216 650 <-- Turn the volume all the way down;
#X text 232 560 sensitivity threshold;
#X text 230 575 (attack detected).;
#X text 215 665 when an attack is detected \, and than ramp;
#X text 215 680 slowly up again.;
#X text 133 331 <-- Buffer the input;
#X text 133 347 to give [env~] enough time;
#X text 134 364 to detect the attack.;
#X obj -221 365 inlet~;
#X obj 150 21 tgl 36 0 \$0-switch \$0-switchr On/Off -5 -10 0 15 #e4e4e4 #4d4d4d #373737 0 1;
#X obj -264 366 + 1;
#X obj -264 401 gate~ 2 1;
#X obj -264 472 outlet~;
#X obj 149 -154 inlet;
#X msg 126 176 set \$1;
#X msg -22 176 set \$1;
#N canvas 0 50 450 300 presets 0;
#X obj 319 57 savestate;
#X msg 365 92 export;
#X obj 0 10 hradio 21 1 0 3 empty \$0-radio Load\ preset 0 4 0 10 #aaaaaa #000000 #000000 0;
#N canvas 356 221 694 431 shift 0;
#X msg 137 214 save;
#X msg 218 214 load;
#X obj 106 264 else/insert;
#X obj 218 293 s \$0-radio;
#X obj 175 95 keyname;
#X obj 214 117 select Shift_L;
#X msg 214 139 1;
#X msg 295 138 0;
#X obj 199 166 &&;
#X obj 199 188 sel 1 0;
#X obj 106 35 inlet;
#X obj 106 344 outlet;
#X msg 218 242 color #aaaaaa #000000 #000000 \, label Load\ preset;
#X msg 227 270 color #ff5050 #000000 #000000 \, label Save\ preset;
#X connect 0 0 2 1;
#X connect 0 0 13 0;
#X connect 1 0 2 1;
#X connect 1 0 12 0;
#X connect 2 0 11 0;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 5 1 7 0;
#X connect 6 0 8 1;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 9 0 0 0;
#X connect 9 1 1 0;
#X connect 10 0 2 0;
#X connect 12 0 3 0;
#X connect 13 0 3 0;
#X restore 319 26 pd shift;
#X obj 62 204 f \$0;
#X obj 110 204 r \$0-A;
#X obj 186 204 r \$0-B;
#X obj 256 204 r \$0-C;
#X obj 110 269 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X obj 186 269 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X obj 256 269 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X obj -1 89 t f b;
#X obj 569 299 pick;
#X obj 582 211 + 1;
#X obj 569 238 del 10 1 msec;
#X text 354 182 preset variables;
#X text 85 -41 adapted from advanced examples from ELSE presets;
#X text 569 188 preset effect names;
#X obj 1 -29 inlet;
#X text 491 17 read last saved file;
#X listbox 569 328 9 0 0 0 - - - 0;
#X listbox 62 396 21 0 0 0 - - - 0;
#X listbox 62 421 21 0 0 0 - - - 0;
#X obj 11 368 del 100 1 msec;
#X msg 435 92 write;
#X text 435 69 write to text file;
#X text -94 422 push when preset selected;
#X text -68 395 store running values;
#X msg 419 44 read eff-violin-preset.txt;
#X obj -76 11 hradio 20 1 0 3 empty \$0-presetlabelr bypass 80 -5 0 10 #e4e4e4 #4d4d4d #373737 0;
#X msg 62 338 set \$1 \$2 \$3 \$4 \$5;
#X msg 62 461 \; \$1-presetlabelr label \$2 \; \$1-switchr \$3 \; \$1-sensitivityr \$4 \; \$1-attackr \$5 \;;
#X obj 62 311 pack2 f s f f f;
#X obj 86 238 r \$0-switch;
#X obj 175 238 r \$0-sensitivity;
#X obj 279 236 r \$0-attack;
#X msg 569 269 bypass default heavy;
#X obj 365 122 presets \\\$0-A \\\$0-B \\\$0-C;
#A saved \\\$0-A 43 || \\\$0-B 300 || \\\$0-C 0 || \; \\\$0-A 43 || \\\$0-B 300 || \\\$0-C 1 || \; \\\$0-A 70 || \\\$0-B 300 || \\\$0-C 1 || \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \; -empty- \;;
#X obj 419 18 loadbang;
#X connect 0 0 37 0;
#X connect 0 1 1 0;
#X connect 1 0 37 0;
#X connect 2 0 3 0;
#X connect 2 0 11 0;
#X connect 3 0 37 0;
#X connect 4 0 32 0;
#X connect 5 0 8 0;
#X connect 6 0 9 0;
#X connect 7 0 10 0;
#X connect 8 0 32 2;
#X connect 9 0 32 3;
#X connect 10 0 32 4;
#X connect 11 0 13 0;
#X connect 11 1 14 0;
#X connect 11 1 4 0;
#X connect 11 1 23 0;
#X connect 11 1 8 0;
#X connect 11 1 9 0;
#X connect 11 1 10 0;
#X connect 12 0 20 0;
#X connect 13 0 12 1;
#X connect 14 0 36 0;
#X connect 18 0 2 0;
#X connect 20 0 32 1;
#X connect 21 0 22 0;
#X connect 22 0 31 0;
#X connect 23 0 21 0;
#X connect 24 0 37 0;
#X connect 28 0 37 0;
#X connect 30 0 21 0;
#X connect 32 0 30 0;
#X connect 33 0 8 0;
#X connect 34 0 9 0;
#X connect 35 0 10 0;
#X connect 36 0 12 0;
#X connect 37 0 0 0;
#X connect 38 0 28 0;
#X coords 0 0 1 1 91 31 2 0 0;
#X restore 114 138 pd presets;
#X obj 31 170 nbx 3 12 0 100 0 0 \$0-sensitivity \$0-sensitivityr empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X obj 86 170 nbx 3 12 0 600 0 0 \$0-attack \$0-attackr empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X text 279 760 GuitarExtended \, Pierre Massat \, 2012 \; https://guitarextended.wordpress.com/2012/04/10/reversed-tape-violin-effect-for-guitar-with-pure-data/;
#X connect 1 0 4 0;
#X connect 2 0 37 0;
#X connect 3 0 7 0;
#X connect 4 0 3 0;
#X connect 5 0 6 1;
#X connect 6 0 32 0;
#X connect 7 0 12 0;
#X connect 7 1 11 0;
#X connect 8 0 1 0;
#X connect 10 0 6 0;
#X connect 11 0 5 0;
#X connect 12 0 14 0;
#X connect 13 0 38 0;
#X connect 14 0 5 0;
#X connect 28 0 31 1;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 31 1 9 0;
#X connect 31 1 8 0;
#X connect 33 0 36 0;
#X connect 34 0 13 0;
#X connect 35 0 2 0;
#X connect 37 0 35 0;
#X connect 37 0 1 1;
#X connect 38 0 34 0;
#X connect 38 0 14 1;
#X coords 0 0 1 1 200 200 1 0 -1;
